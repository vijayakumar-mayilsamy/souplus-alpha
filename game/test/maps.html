<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Google Maps JavaScript API Example</title>
    <script src="http://maps.google.com/maps?file=api&v=2&key=AIzaSyDpEOT0zSRAVkuEeweQ7tgR3eAqapttg3M"
      type="text/javascript"></script>
    <script type="text/javascript">
    //<![CDATA[
    /*function load() {
      if (GBrowserIsCompatible()) {
        var map = new GMap2(document.getElementById("map"));
        map.setCenter(new GLatLng(37.4419, -122.1419), 13);
        //,new GLatLng(37.03, -122.01),new GLatLng(37.01, -121.99)
 
      }
    }*/
    
    var directionsDisplay;
	var directionsService = new google.maps.DirectionsService();
	var map;


	function initialize() {
	  directionsDisplay = new google.maps.DirectionsRenderer();
	  var mapOptions = {
		zoom: 14,
		mapTypeId: google.maps.MapTypeId.ROADMAP,
		center: haight
	  }
	  map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
	  directionsDisplay.setMap(map);
	}

	function calcRoute() {
		
	  var selectedMode = document.getElementById("mode").value;
	  var haight = new google.maps.LatLng(37.7699298, -122.4469157);
	  var oceanBeach = new google.maps.LatLng(37.7683909618184, -122.51089453697205);
	  var request = {
		  origin: haight,
		  destination: oceanBeach,
		  // Note that Javascript allows us to access the constant
		  // using square brackets and a string value as its
		  // "property."
		  travelMode: google.maps.TravelMode[selectedMode]
	  };
	  directionsService.route(request, function(response, status) {
		if (status == google.maps.DirectionsStatus.OK) {
		  directionsDisplay.setDirections(response);
		}
	  });
	}
    
    
    //]]>
    </script>
  </head>
  <body onload="load()" onunload="GUnload()">
    <div id="map" style="width: 500px; height: 300px"></div>
  </body>
</html>
